---
import { Image } from 'astro:assets'
import type { ImageMetadata } from 'astro'

interface Props {
  slug: string
  image: ImageMetadata
  title: string
  year: string
  description: string
  tags?: string[]
}

const { slug, image, title, year, description, tags } = Astro.props
---

<article class="group">
  <a href={`/work/${slug}`} class="block">
    <div class="aspect-[3/2] overflow-hidden border border-border">
      <Image 
        src={image} 
        alt={title}
        widths={[600, 900, 1200]}
        sizes="(max-width: 640px) 100vw, (max-width: 1024px) 80vw, 1200px"
        class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"
        loading="lazy"
      />
    </div>
    <div class="mt-8 flex flex-col md:flex-row md:items-start md:justify-between gap-6">
      <div class="flex-1">
        <h2 class="text-xl uppercase tracking-[0.15em] font-semibold text-primary">
          {title}
        </h2>
        <p class="mt-2 text-base text-secondary uppercase tracking-[0.1em]">
          {year}
        </p>
        {tags && tags.length > 0 && (
          <div class="mt-3 flex flex-wrap gap-2">
            {tags.map((tag) => (
              <span class="px-2 py-0.5 text-[0.65rem] uppercase tracking-[0.15em] border border-border text-secondary">
                {tag}
              </span>
            ))}
          </div>
        )}
      </div>
      <p class="md:max-w-lg text-base text-muted-foreground leading-relaxed">
        {description}
      </p>
    </div>
  </a>
</article>
